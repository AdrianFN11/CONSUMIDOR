{"version":3,"sources":["./src/app/make-review/make-review-routing.module.ts","./src/app/make-review/make-review.module.ts","./src/app/make-review/make-review.page.ts","./src/app/make-review/make-review.page.scss","./src/app/make-review/make-review.page.html"],"names":[],"mappings":"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","file":"src_app_make-review_make-review_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MakeReviewPage } from './make-review.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MakeReviewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MakeReviewPageRoutingModule {}\n","import { IonicRatingModule } from 'ionic4-rating';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MakeReviewPageRoutingModule } from './make-review-routing.module';\n\nimport { MakeReviewPage } from './make-review.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,IonicRatingModule,\n    IonicModule,\n    MakeReviewPageRoutingModule\n  ],\n  declarations: [MakeReviewPage]\n})\nexport class MakeReviewPageModule {}\n","import { Location } from '@angular/common';\nimport { GlobalMethods } from './../services/global';\nimport { AuthServiceService } from './../services/auth-service.service';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-make-review',\n  templateUrl: './make-review.page.html',\n  styleUrls: ['./make-review.page.scss'],\n})\nexport class MakeReviewPage implements OnInit {\n  data: any = {}\n  title: string\n  rating: any\n  sub: string\n  comment: string\n  uid: string\n  name: string\n  constructor(private router: Router,\n    private db: AngularFireDatabase,\n    private authService: AuthServiceService,\n    private global: GlobalMethods,\n    private location: Location\n  ) { }\n\n  ngOnInit() {\n    this.data = this.router.getCurrentNavigation().extras.state.data\n    this.authService.userId().subscribe(res => {\n      this.uid = res.uid\n      this.db.object(`users/${res.uid}`).valueChanges().subscribe(res => {\n        this.global.userProfile = res\n        this.name = res['fname'] + ' ' + res['lname']\n      })\n      console.log(res.email, this.data)\n    })\n\n  }\n  back() {\n    this.location.back()\n  }\n  onModelChange(evt) {\n    this.rating = evt\n    console.log(this.rating)\n  }\n  onSubmit() {\n    if (!this.rating || !this.sub || !this.comment ) {\n      this.global.CreateToast(`Please type something first!`)\n    }else{\n      this.global.presentLoading(`Please wait!`)\n    this.db.database.ref(`reviews`).child(this.data.id).child(this.uid).update({\n      cId: this.data.id,\n      rating: this.rating,\n      subject: this.sub,\n      comment: this.comment,\n      name: this.name\n    }).then(() => {\n      this.global.hideLoading()\n      this.global.CreateToast(`Rated successfully!`)\n      this.location.back()\n      this.db.database.ref(`recentReviews`).child(this.data.id).update(this.data)\n      this.db.database.ref(`myReviews`).child(this.uid).child(this.data.id).update({\n        cName:this.data.name,\n        cId: this.data.id,\n        rating: this.rating,\n        subject: this.sub,\n        comment: this.comment,\n        name: this.name\n      })\n      this.sub = ''\n      this.comment = ''\n    }).catch(err => {\n      console.log(err)\n      this.global.timeoutHide(1000)\n    })\n    }\n  }\n}\n","export default \"ion-header, ion-toolbar {\\n  --background: rgb(19, 25, 193);\\n}\\nion-header ion-back-button, ion-toolbar ion-back-button {\\n  left: 0;\\n  top: 2px;\\n  position: absolute;\\n  color: white;\\n}\\nion-header ion-title, ion-toolbar ion-title {\\n  text-align: center;\\n  color: white;\\n}\\nion-content .title {\\n  position: absolute;\\n  margin: 10%;\\n  font-weight: bolder;\\n}\\nion-content ion-avatar {\\n  height: auto;\\n  width: 100%;\\n  text-align: center;\\n}\\nion-content ion-avatar img {\\n  height: 120px;\\n  width: 120px;\\n  margin-top: 20%;\\n}\\nion-content .company-info {\\n  margin-top: 5%;\\n}\\nion-content .company-info ion-col {\\n  border-bottom: 1px solid #1319c1;\\n  margin-left: 5%;\\n  text-align: center !important;\\n}\\nion-content .inputs {\\n  margin-top: 5%;\\n}\\nion-content .inputs ion-input {\\n  border: 1px solid grey;\\n  height: 45px;\\n  border-radius: 10px;\\n  width: 80%;\\n  margin-left: 10%;\\n  padding: 0px 0px 0px 5px;\\n}\\nion-content ion-textarea {\\n  margin-top: 5%;\\n  border: 1px solid grey;\\n  width: 80%;\\n  margin-left: 10%;\\n  border-radius: 10px;\\n  padding: 5px;\\n}\\nion-content .bottom-button {\\n  width: 80%;\\n  height: 40px;\\n  background-color: #1319c1;\\n  color: white;\\n  margin-left: 10%;\\n  margin-top: 5%;\\n  margin-bottom: 5%;\\n  border-radius: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ha2UtcmV2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDhCQUFBO0FBQ0o7QUFBSTtFQUNJLE9BQUE7RUFDQSxRQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBRVI7QUFBSTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtBQUVSO0FBRUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQUNSO0FBQ0k7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBQ1I7QUFBUTtFQUNDLGFBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQUVUO0FBQ0k7RUFDSSxjQUFBO0FBQ1I7QUFBUTtFQUNJLGdDQUFBO0VBQ0EsZUFBQTtFQUNBLDZCQUFBO0FBRVo7QUFDSTtFQUNHLGNBQUE7QUFDUDtBQUFRO0VBQ0ksc0JBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSx3QkFBQTtBQUVaO0FBRUk7RUFDSSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUFBUjtBQUVJO0VBQ0ksVUFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBQVIiLCJmaWxlIjoibWFrZS1yZXZpZXcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlcixpb24tdG9vbGJhcntcclxuICAgIC0tYmFja2dyb3VuZDogcmdiKDE5LCAyNSwgMTkzKTtcclxuICAgIGlvbi1iYWNrLWJ1dHRvbiB7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICB0b3A6IDJweDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgfVxyXG4gICAgaW9uLXRpdGxlIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgfVxyXG59XHJcbmlvbi1jb250ZW50e1xyXG4gICAgLnRpdGxle1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBtYXJnaW46IDEwJTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZGVyO1xyXG4gICAgfVxyXG4gICAgaW9uLWF2YXRhcntcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGltZ3tcclxuICAgICAgICAgaGVpZ2h0OiAxMjBweDtcclxuICAgICAgICAgd2lkdGg6IDEyMHB4O1xyXG4gICAgICAgICBtYXJnaW4tdG9wOiAyMCU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLmNvbXBhbnktaW5mb3tcclxuICAgICAgICBtYXJnaW4tdG9wOiA1JTtcclxuICAgICAgICBpb24tY29se1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiKDE5LCAyNSwgMTkzKTtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDUlO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAuaW5wdXRze1xyXG4gICAgICAgbWFyZ2luLXRvcDogNSU7XHJcbiAgICAgICAgaW9uLWlucHV0e1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiA4MCU7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDBweCAwcHggMHB4IDVweDtcclxuICAgICAgICB9XHJcbiAgIFxyXG4gICAgfVxyXG4gICAgaW9uLXRleHRhcmVhe1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDUlO1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyZXk7XHJcbiAgICAgICAgd2lkdGg6IDgwJTtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMTAlO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgcGFkZGluZzogNXB4O1xyXG4gICAgfVxyXG4gICAgLmJvdHRvbS1idXR0b257XHJcbiAgICAgICAgd2lkdGg6IDgwJTtcclxuICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE5LCAyNSwgMTkzKTtcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwJTtcclxuICAgICAgICBtYXJnaW4tdG9wOiA1JTtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiA1JTtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgfVxyXG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons class=\\\"back-btn\\\" slot=\\\"start\\\">\\n      <ion-button (click)=\\\"back()\\\">\\n        <ion-icon style=\\\"color: white;\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Make a review</ion-title>\\n  </ion-toolbar>\\n  </ion-header>\\n<ion-content>\\n<ion-label class=\\\"title\\\">Make a review for:</ion-label>\\n<ion-avatar>\\n  <img [src]=\\\"data.img\\\" />\\n</ion-avatar>\\n<ion-row class=\\\"company-info\\\">\\n  <ion-col size=\\\"5\\\">\\n    <ion-label>{{data.name}}</ion-label>\\n  </ion-col>\\n  <ion-col size=\\\"5\\\">\\n    <ion-label>{{data.type}}</ion-label>\\n  </ion-col>\\n</ion-row>\\n<ion-row class=\\\"company-info\\\">\\n  <ion-col size=\\\"5\\\">\\n    <ion-label>{{data.web}}</ion-label>\\n  </ion-col>\\n  <ion-col size=\\\"5\\\">\\n    <ion-label>{{data.phone}}</ion-label>\\n  </ion-col>\\n</ion-row>\\n<rating\\nsize=\\\"default\\\"\\n(ngModelChange)=\\\"onModelChange($event)\\\" [(ngModel)]=\\\"rating\\\">\\n</rating>\\n<div class=\\\"inputs\\\">\\n  <ion-input type=\\\"text\\\" placeholder=\\\"subject\\\"[(ngModel)]=\\\"sub\\\"></ion-input>\\n</div>\\n<ion-textarea [(ngModel)]=\\\"comment\\\" placeholder=\\\"comments\\\" cols=\\\"30\\\" rows=\\\"10\\\"></ion-textarea>\\n<ion-button (click)=\\\"onSubmit()\\\" fill=\\\"clear\\\" shape=\\\"round\\\" class=\\\"bottom-button\\\">\\n  submit\\n</ion-button>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}